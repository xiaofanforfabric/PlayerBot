# FanMacro GUI - AI 智能生成功能使用指南

## 🎉 新功能：AI 智能生成

GUI 客户端现在集成了 AI 代码生成功能，您可以通过简单的文字描述，让 AI 自动生成 FanMacro 代码！

## 🚀 如何使用

### 1. 打开 GUI 应用

运行 `run-gui.bat` 或 `./gradlew run` 启动 GUI 应用。

### 2. 输入功能需求

在右侧面板的 **"功能需求描述"** 文本框中，输入您想要实现的功能。

**示例：**
- "创建一个自动挖矿的宏，挖掘铁矿石"
- "移动到坐标(0, 85, -3062)"
- "如果时间到了11000刻，就执行/home命令"
- "检查背包里有没有钻石，如果没有就去挖钻石"

### 3. 点击生成按钮

点击 **"🚀 请求AI生成"** 按钮。

### 4. 等待生成

- 系统会自动提交请求到 AI 服务器
- 状态标签会显示当前进度：
  - "正在提交请求..."
  - "请求已提交，等待AI生成中..."
  - "AI正在生成中，请稍候..."
  - "✅ 生成完成！代码已显示在下方"

### 5. 查看生成的代码

生成的代码会自动显示在下方的 **"生成的 FanMacro 代码"** 区域。

### 6. 编辑和保存

- 您可以手动编辑生成的代码
- 点击 **"保存宏文件"** 保存到文件

## 📝 如何写功能描述（小白必看）

### ✅ 好的描述示例

1. **简单明确**
   - "自动挖矿，挖掘铁矿石"
   - "移动到坐标(100, 64, 200)"

2. **包含条件**
   - "如果时间到了11000刻，就执行/home命令"
   - "检查背包里有没有钻石，如果没有就去挖钻石"

3. **包含多个步骤**
   - "先移动到(0, 85, -3062)，然后挖掘铁矿石，挖完后回到原点"

### ❌ 不好的描述示例

1. **太模糊**
   - "做个宏" ❌
   - "帮我写代码" ❌

2. **与宏代码无关**
   - "今天天气真好" ❌
   - "帮我查一下资料" ❌

3. **过于复杂**
   - "做一个超级复杂的自动化系统，包含100个功能..." ❌

## ⚠️ 注意事项

1. **输入不能为空**
   - 必须输入功能描述才能生成
   - 空输入会提示错误

2. **描述要清晰具体**
   - 越具体，生成的代码越准确
   - 可以包含坐标、物品名称、时间等具体信息

3. **生成后可以编辑**
   - AI 生成的代码可能需要微调
   - 您可以在代码预览区域直接编辑

4. **网络连接**
   - 需要连接到 AI 服务器：`211.101.244.28:54046`
   - 如果连接失败，请检查网络

5. **生成时间**
   - AI 生成代码需要几秒到几十秒
   - 请耐心等待，不要重复点击按钮

## 🔧 功能说明

### 服务器地址

- **地址**: `211.101.244.28:54046`
- **协议**: HTTP
- **端点**:
  - `POST /input` - 提交需求
  - `GET /output?takeid=xxx` - 查询结果

### 工作流程

1. 用户输入需求 → 点击生成按钮
2. 客户端发送 POST 请求到 `/input`
3. 服务器返回 `takeid`
4. 客户端每2秒轮询 `/output?takeid=xxx`
5. 如果返回 `wait`，继续等待
6. 如果返回代码，显示在代码预览区域

## 🎯 使用技巧

### 技巧1：分步骤描述

如果功能复杂，可以分步骤描述：

```
第一步：移动到坐标(0, 85, -3062)
第二步：挖掘铁矿石
第三步：回到原点
```

### 技巧2：使用具体数值

使用具体的坐标、时间、物品名称：

- ✅ "移动到坐标(100, 64, 200)"
- ❌ "移动到某个地方"

### 技巧3：描述条件逻辑

清楚地描述条件：

- ✅ "如果时间到了11000刻，就执行/home命令"
- ❌ "到时间就回家"

## 🐛 故障排除

### 问题1：点击按钮没有反应

**解决方案：**
- 检查是否输入了需求描述
- 检查网络连接
- 查看状态标签的错误信息

### 问题2：一直显示"等待中"

**解决方案：**
- 等待更长时间（AI 生成可能需要30秒以上）
- 检查服务器是否正常运行
- 尝试重新提交请求

### 问题3：生成的代码不正确

**解决方案：**
- 尝试更具体地描述需求
- 手动编辑生成的代码
- 可以多次生成，选择最好的结果

### 问题4：连接服务器失败

**解决方案：**
- 检查网络连接
- 确认服务器地址正确：`211.101.244.28:54046`
- 检查防火墙设置

## 📊 界面说明

### 右侧面板布局

```
┌─────────────────────────┐
│  🤖 AI 智能生成          │
│                         │
│  功能需求描述:          │
│  [输入框]               │
│                         │
│  [🚀 请求AI生成]        │
│                         │
│  状态: 等待输入需求...  │
│                         │
│  📝 如何写功能描述...   │
│  (帮助说明)             │
├─────────────────────────┤
│  生成的 FanMacro 代码:  │
│  [代码预览区域]         │
└─────────────────────────┘
```

## 🎉 开始使用

1. 启动 GUI 应用
2. 在右侧输入您的需求
3. 点击生成按钮
4. 等待 AI 生成代码
5. 查看、编辑、保存代码

享受 AI 辅助编程的便利！🚀

